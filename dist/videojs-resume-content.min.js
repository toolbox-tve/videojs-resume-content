/*! @name videojs-resume-content @version 0.0.6 @license MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t=t||self).videojsResumeContent=e(t.videojs)}(this,function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s=(t=t&&t.hasOwnProperty("default")?t.default:t).dom||t,i=function(n){function i(t,e){var s;return(s=n.call(this,t,e)||this).parent=e.parent,s}e(i,n);var o=i.prototype;return o.createEl=function(){var e=s.createEl("div",{className:"vjs-control vjs-play-resume-button"});this.button=e,this.span=s.createEl("span",{className:"vjs-icon-play"}),this.text=s.createEl("p");var n=t.formatTime(this.player().currentTime());return this.text.innerHTML=this.localize("resumeContent")+" "+n,e.appendChild(this.span),e.appendChild(this.text),e},o.handleClick=function(t){this.parent.closed=!0,this.parent.hide(),this.player().play()},o.resize=function(){if(this.player_||this.player_.el_){var t=this.player_.el_.offsetWidth;this.lastWidth!==t&&(this.lastWidth=t,t<200?(this.text.style.fontSize="10px",this.span.style.fontSize="10px",this.span.style.marginLeft="10px",this.button.style.height="24px"):t<300?(this.text.style.fontSize="12px",this.span.style.fontSize="12px",this.span.style.marginLeft="12px",this.button.style.height="24px",this.button.style.width="70%",this.button.style.left="15%"):t<400?(this.text.style.fontSize="16px",this.span.style.fontSize="16px",this.span.style.marginLeft="16px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):(this.text.style.fontSize="28px",this.span.style.fontSize="28px",this.span.style.marginLeft="28px",this.button.style.width="80%",this.button.style.left="20%",this.button.style.height="48px"))}},i}(t.getComponent("ClickableComponent"));t.registerComponent("ResumeContentPlayResumeButton",i);var o=t.dom||t,a=function(t){function n(e,n){var s;return(s=t.call(this,e,n)||this).parent=n.parent,s}e(n,t);var s=n.prototype;return s.createEl=function(){var t=o.createEl("div",{className:"vjs-control vjs-play-reset-button"});return this.button=t,this.span=o.createEl("span",{className:"vjs-icon-replay"}),this.text=o.createEl("p"),this.text.innerHTML=this.localize("resetContent"),t.appendChild(this.span),t.appendChild(this.text),t},s.handleClick=function(t){this.parent.closed=!0,this.parent.hide(),this.player().currentTime(0),this.player().play()},s.resize=function(){if(this.player_||this.player_.el_){var t=this.player_.el_.offsetWidth;this.lastWidth!==t&&(this.lastWidth=t,t<200?(this.text.style.fontSize="10px",this.span.style.fontSize="10px",this.span.style.marginLeft="10px",this.button.style.height="24px"):t<300?(this.text.style.fontSize="12px",this.span.style.fontSize="12px",this.span.style.marginLeft="12px",this.button.style.height="24px",this.button.style.width="70%",this.button.style.left="15%"):t<400?(this.text.style.fontSize="16px",this.span.style.fontSize="16px",this.span.style.marginLeft="16px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):(this.text.style.fontSize="28px",this.span.style.fontSize="28px",this.span.style.marginLeft="28px",this.button.style.width="80%",this.button.style.left="20%",this.button.style.height="48px"))}},n}(t.getComponent("ClickableComponent"));t.registerComponent("ResumeContentPlayResetButton",a);var r=t.dom||t,l=function(t){function s(e,s){var i;return(i=t.call(this,e,s)||this).init=i.init.bind(n(i)),i.init(e),i.bindedOnPlayerResize=i.onPlayerResize.bind(n(i)),i.playResumeButton=i.addChild("ResumeContentPlayResumeButton",{parent:n(i)}),i.playResetButton=i.addChild("ResumeContentPlayResetButton",{parent:n(i)}),i.player_.on("resize",i.bindedOnPlayerResize),i}e(s,t);var i=s.prototype;return i.onPlayerResize=function(){this.playResumeButton.resize(),this.playResetButton.resize()},i.init=function(t){t.currentTime(42),this.open=!1,this.closed=!1},i.createEl=function(){return r.createEl("div",{className:"vjs-content-resume-container vjs-hidden"})},i.show=function(){t.prototype.show.call(this),this.open=!0,this.player().controlBar.hide(),this.player().bigPlayButton.hide()},i.hide=function(){t.prototype.hide.call(this),this.open=!1,this.player().controlBar.show(),this.player().bigPlayButton.show()},s}(t.getComponent("Component"));t.registerComponent("ResumeContent",l);var h={resumeContent:"Reanudar contenido en",resetContent:"Reproducir desde el comienzo"},p={resumeContent:"Retomar conteúdo em",resetContent:"Tocar desde o começo"},u={resumeContent:"Resume content in",resetContent:"Play from start"};t.addLanguage("es",h),t.addLanguage("en",u),t.addLanguage("pt",p);var y={},d=t.registerPlugin||t.plugin,c=function(e){var n=this;this.container=this.addChild("ResumeContent",e),this.ready(function(){var s;s=n,t.mergeOptions(y,e),s.addClass("vjs-resume-content")}),this.on("loadeddata",function(){n.container.onPlayerResize();var t=n;t.pause(),t.currentTime()>=.9*t.duration()?t.container.show():(t.container.hide(),setTimeout(function(){console.log("play the player"),t.play()},1e3))})};return d("resumeContent",c),c.VERSION="0.0.6",c});
