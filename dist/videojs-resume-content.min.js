/*! @name videojs-resume-content @version 0.0.3 @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):(e=e||self).videojsResumeContent=t(e.videojs)}(this,function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=(e=e&&e.hasOwnProperty("default")?e.default:e).dom||e,r=function(n){function r(e,t){var o;return(o=n.call(this,e,t)||this).parent=t.parent,o}t(r,n);var i=r.prototype;return i.createEl=function(){var t=o.createEl("div",{className:"vjs-control vjs-play-resume-button"}),n=o.createEl("span",{className:"vjs-icon-play"}),r=o.createEl("p"),i=e.formatTime(this.player().currentTime());return r.innerHTML=this.localize("resumeContent")+" "+i,t.appendChild(n),t.appendChild(r),t},i.handleClick=function(e){this.parent.closed=!0,this.parent.hide(),this.player().play()},r}(e.getComponent("ClickableComponent"));e.registerComponent("ResumeContentPlayResumeButton",r);var i=e.dom||e,a=function(e){function n(t,n){var o;return(o=e.call(this,t,n)||this).parent=n.parent,o}t(n,e);var o=n.prototype;return o.createEl=function(){var e=i.createEl("div",{className:"vjs-control vjs-play-reset-button"}),t=i.createEl("span",{className:"vjs-icon-replay"}),n=i.createEl("p");return n.innerHTML=this.localize("resetContent"),e.appendChild(t),e.appendChild(n),e},o.handleClick=function(e){this.parent.closed=!0,this.parent.hide(),this.player().currentTime(0),this.player().play()},n}(e.getComponent("ClickableComponent"));e.registerComponent("ResumeContentPlayResetButton",a);var s=e.dom||e,l=function(e){function o(t,o){var r;return(r=e.call(this,t,o)||this).init=r.init.bind(n(r)),r.init(t),r.playResumeButton=r.addChild("ResumeContentPlayResumeButton",{parent:n(r)}),r.playResetButton=r.addChild("ResumeContentPlayResetButton",{parent:n(r)}),r}t(o,e);var r=o.prototype;return r.init=function(e){this.open=!1,this.closed=!1},r.createEl=function(){return s.createEl("div",{className:"vjs-content-resume-container vjs-hidden"})},r.show=function(){e.prototype.show.call(this),this.open=!0,this.player().controlBar.hide(),this.player().bigPlayButton.hide()},r.hide=function(){e.prototype.hide.call(this),this.open=!1,this.player().controlBar.show(),this.player().bigPlayButton.show()},o}(e.getComponent("Component"));e.registerComponent("ResumeContent",l);var u={resumeContent:"Reanudar contenido en",resetContent:"Reproducir desde el comienzo"},c={resumeContent:"Retomar conteúdo em",resetContent:"Tocar desde o começo"},p={resumeContent:"Resume content in",resetContent:"Play from start"};e.addLanguage("es",u),e.addLanguage("en",p),e.addLanguage("pt",c);var d={},h=e.registerPlugin||e.plugin,m=function(t){var n=this;this.container=this.addChild("ResumeContent",t),this.ready(function(){var o;o=n,e.mergeOptions(d,t),o.addClass("vjs-resume-content")}),this.on("loadedmetadata",function(){var e=n;e.currentTime()>=.9*e.duration()?e.container.show():(e.container.hide(),setTimeout(function(){console.log("play the player"),e.play()},1e3))})};return h("resumeContent",m),m.VERSION="0.0.3",m});
