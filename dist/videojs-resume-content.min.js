/*! @name videojs-resume-content @version 0.0.8 @license MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t=t||self).videojsResumeContent=e(t.videojs)}(this,function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var n=(t=t&&t.hasOwnProperty("default")?t.default:t).dom||t,i=function(s){function i(t,e){var n;return(n=s.call(this,t,e)||this).parent=e.parent,n}e(i,s);var o=i.prototype;return o.createEl=function(){var e=n.createEl("div",{className:"vjs-control vjs-play-resume-button"});this.button=e,this.span=n.createEl("span",{className:"vjs-icon-play"}),this.text=n.createEl("p");var s=t.formatTime(this.player().currentTime());return this.text.innerHTML=this.localize("resumeContent")+" "+s,e.appendChild(this.span),e.appendChild(this.text),e},o.handleClick=function(t){this.parent.closed=!0,this.parent.hide(),this.player().play()},o.resize=function(){if(this.player_||this.player_.el_){var t=this.player_.el_.offsetWidth;this.lastWidth!==t&&(this.lastWidth=t,t<200?(this.text.style.fontSize="10px",this.span.style.fontSize="10px",this.span.style.marginLeft="10px",this.button.style.height="24px"):t<300?(this.text.style.fontSize="12px",this.span.style.fontSize="12px",this.span.style.marginLeft="12px",this.button.style.height="24px",this.button.style.width="70%",this.button.style.left="15%"):t<400?(this.text.style.fontSize="16px",this.span.style.fontSize="16px",this.span.style.marginLeft="16px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):t<500?(this.text.style.fontSize="18px",this.span.style.fontSize="18px",this.span.style.marginLeft="18px",this.button.style.height="32px",this.button.style.width="90%",this.button.style.left="10%"):t<700?(this.text.style.fontSize="22px",this.span.style.fontSize="22px",this.span.style.marginLeft="22px",this.button.style.height="32px",this.button.style.width="90%",this.button.style.left="10%"):t<1e3?(this.text.style.fontSize="22px",this.span.style.fontSize="22px",this.span.style.marginLeft="22px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):(this.text.style.fontSize="28px",this.span.style.fontSize="28px",this.span.style.marginLeft="28px",this.button.style.width="80%",this.button.style.left="20%",this.button.style.height="48px"))}},i}(t.getComponent("ClickableComponent"));t.registerComponent("ResumeContentPlayResumeButton",i);var o=t.dom||t,h=function(t){function s(e,s){var n;return(n=t.call(this,e,s)||this).parent=s.parent,n}e(s,t);var n=s.prototype;return n.createEl=function(){var t=o.createEl("div",{className:"vjs-control vjs-play-reset-button"});return this.button=t,this.span=o.createEl("span",{className:"vjs-icon-replay"}),this.text=o.createEl("p"),this.text.innerHTML=this.localize("resetContent"),t.appendChild(this.span),t.appendChild(this.text),t},n.handleClick=function(t){this.parent.closed=!0,this.parent.hide(),this.player().currentTime(0),this.player().play()},n.resize=function(){if(this.player_||this.player_.el_){var t=this.player_.el_.offsetWidth;this.lastWidth!==t&&(this.lastWidth=t,t<200?(this.text.style.fontSize="10px",this.span.style.fontSize="10px",this.span.style.marginLeft="10px",this.button.style.height="24px"):t<300?(this.text.style.fontSize="12px",this.span.style.fontSize="12px",this.span.style.marginLeft="12px",this.button.style.height="24px",this.button.style.width="70%",this.button.style.left="15%"):t<400?(this.text.style.fontSize="16px",this.span.style.fontSize="16px",this.span.style.marginLeft="16px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):t<500?(this.text.style.fontSize="18px",this.span.style.fontSize="18px",this.span.style.marginLeft="18px",this.button.style.height="32px",this.button.style.width="90%",this.button.style.left="10%"):t<700?(this.text.style.fontSize="22px",this.span.style.fontSize="22px",this.span.style.marginLeft="22px",this.button.style.height="32px",this.button.style.width="90%",this.button.style.left="10%"):t<1e3?(this.text.style.fontSize="22px",this.span.style.fontSize="22px",this.span.style.marginLeft="22px",this.button.style.height="32px",this.button.style.width="70%",this.button.style.left="15%"):(this.text.style.fontSize="32px",this.span.style.fontSize="32px",this.span.style.marginLeft="32px",this.button.style.width="80%",this.button.style.left="20%",this.button.style.height="48px"))}},s}(t.getComponent("ClickableComponent"));t.registerComponent("ResumeContentPlayResetButton",h);var l=t.dom||t,a=function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).init=i.init.bind(s(i)),i.init(e),i.bindedOnPlayerResize=i.onPlayerResize.bind(s(i)),i.playResumeButton=i.addChild("ResumeContentPlayResumeButton",{parent:s(i)}),i.playResetButton=i.addChild("ResumeContentPlayResetButton",{parent:s(i)}),i.player_.on("resize",i.bindedOnPlayerResize),i}e(n,t);var i=n.prototype;return i.onPlayerResize=function(){this.playResumeButton.resize(),this.playResetButton.resize()},i.init=function(t){this.open=!1,this.closed=!1},i.createEl=function(){return l.createEl("div",{className:"vjs-content-resume-container vjs-hidden"})},i.show=function(){t.prototype.show.call(this),this.open=!0,this.player().controlBar.hide(),this.player().bigPlayButton.hide()},i.hide=function(){t.prototype.hide.call(this),this.open=!1,this.player().controlBar.show(),this.player().bigPlayButton.show()},n}(t.getComponent("Component"));t.registerComponent("ResumeContent",a);var p={resumeContent:"Reanudar contenido en",resetContent:"Reproducir desde el comienzo"},r={resumeContent:"Retomar conteúdo em",resetContent:"Tocar desde o começo"},y={resumeContent:"Resume content in",resetContent:"Play from start"};t.addLanguage("es",p),t.addLanguage("en",y),t.addLanguage("pt",r);var u={},f=t.registerPlugin||t.plugin,d=function(e){var s=this;this.container=this.addChild("ResumeContent",e),this.ready(function(){var n;n=s,t.mergeOptions(u,e),n.addClass("vjs-resume-content")}),this.on("loadeddata",function(){s.container.onPlayerResize();var t=s;t.pause(),t.currentTime()>=.9*t.duration()?t.container.show():(t.container.hide(),setTimeout(function(){console.log("play the player"),t.play()},1e3))})};return f("resumeContent",d),d.VERSION="0.0.8",d});
